[{"/home/ivan/mesto-react/src/index.js":"1","/home/ivan/mesto-react/src/reportWebVitals.js":"2","/home/ivan/mesto-react/src/components/App.js":"3","/home/ivan/mesto-react/src/components/Header.js":"4","/home/ivan/mesto-react/src/components/Main.js":"5","/home/ivan/mesto-react/src/components/Footer.js":"6","/home/ivan/mesto-react/src/components/PopupWithForm.js":"7","/home/ivan/mesto-react/src/utils/Api.js":"8","/home/ivan/mesto-react/src/components/Card.js":"9","/home/ivan/mesto-react/src/components/ImagePopup.js":"10","/home/ivan/mesto-react/src/contexts/CurrentUserContext.js":"11","/home/ivan/mesto-react/src/components/EditProfilePopup.js":"12","/home/ivan/mesto-react/src/components/EditAvatarPopup.js":"13","/home/ivan/mesto-react/src/components/AddPopup.js":"14","/home/ivan/mesto-react/src/components/DeletePopup.js":"15","/home/ivan/react-mesto-auth/src/index.js":"16","/home/ivan/react-mesto-auth/src/reportWebVitals.js":"17","/home/ivan/react-mesto-auth/src/components/App.js":"18","/home/ivan/react-mesto-auth/src/contexts/CurrentUserContext.js":"19","/home/ivan/react-mesto-auth/src/components/Header.js":"20","/home/ivan/react-mesto-auth/src/components/ImagePopup.js":"21","/home/ivan/react-mesto-auth/src/components/Footer.js":"22","/home/ivan/react-mesto-auth/src/components/Main.js":"23","/home/ivan/react-mesto-auth/src/components/EditAvatarPopup.js":"24","/home/ivan/react-mesto-auth/src/components/DeletePopup.js":"25","/home/ivan/react-mesto-auth/src/components/EditProfilePopup.js":"26","/home/ivan/react-mesto-auth/src/components/AddPopup.js":"27","/home/ivan/react-mesto-auth/src/utils/Api.js":"28","/home/ivan/react-mesto-auth/src/components/Card.js":"29","/home/ivan/react-mesto-auth/src/components/PopupWithForm.js":"30"},{"size":511,"mtime":1635255439517,"results":"31","hashOfConfig":"32"},{"size":362,"mtime":1635164126444,"results":"33","hashOfConfig":"32"},{"size":5004,"mtime":1636661670897,"results":"34","hashOfConfig":"32"},{"size":182,"mtime":1635949195343,"results":"35","hashOfConfig":"32"},{"size":1555,"mtime":1636720564983,"results":"36","hashOfConfig":"32"},{"size":212,"mtime":1635256484162,"results":"37","hashOfConfig":"32"},{"size":725,"mtime":1636649374452,"results":"38","hashOfConfig":"32"},{"size":1909,"mtime":1636633296238,"results":"39","hashOfConfig":"32"},{"size":1492,"mtime":1636638565231,"results":"40","hashOfConfig":"32"},{"size":705,"mtime":1636656934807,"results":"41","hashOfConfig":"32"},{"size":84,"mtime":1636633689630,"results":"42","hashOfConfig":"32"},{"size":1819,"mtime":1636720526304,"results":"43","hashOfConfig":"32"},{"size":923,"mtime":1636651258019,"results":"44","hashOfConfig":"32"},{"size":1504,"mtime":1636653652918,"results":"45","hashOfConfig":"32"},{"size":470,"mtime":1636653838055,"results":"46","hashOfConfig":"32"},{"size":609,"mtime":1648649949228,"results":"47","hashOfConfig":"48"},{"size":362,"mtime":1635164126000,"results":"49","hashOfConfig":"48"},{"size":5544,"mtime":1648650323052,"results":"50","hashOfConfig":"48"},{"size":84,"mtime":1636633689000,"results":"51","hashOfConfig":"48"},{"size":182,"mtime":1635949195000,"results":"52","hashOfConfig":"48"},{"size":705,"mtime":1636656934000,"results":"53","hashOfConfig":"48"},{"size":212,"mtime":1635256484000,"results":"54","hashOfConfig":"48"},{"size":1555,"mtime":1636720564000,"results":"55","hashOfConfig":"48"},{"size":923,"mtime":1636651258000,"results":"56","hashOfConfig":"48"},{"size":470,"mtime":1636653838000,"results":"57","hashOfConfig":"48"},{"size":1819,"mtime":1636720526000,"results":"58","hashOfConfig":"48"},{"size":1504,"mtime":1636653652000,"results":"59","hashOfConfig":"48"},{"size":1909,"mtime":1636633296000,"results":"60","hashOfConfig":"48"},{"size":1492,"mtime":1636638565000,"results":"61","hashOfConfig":"48"},{"size":725,"mtime":1636649374000,"results":"62","hashOfConfig":"48"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},"96aso3",{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"65"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"eqfc8a",{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":5,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103"},{"filePath":"104","messages":"105","suppressedMessages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"107","messages":"108","suppressedMessages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","suppressedMessages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","suppressedMessages":"115","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","suppressedMessages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","suppressedMessages":"121","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","suppressedMessages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"125","messages":"126","suppressedMessages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","suppressedMessages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"131","messages":"132","suppressedMessages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","suppressedMessages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"137","messages":"138","suppressedMessages":"139","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/ivan/mesto-react/src/index.js",[],["140","141"],"/home/ivan/mesto-react/src/reportWebVitals.js",[],"/home/ivan/mesto-react/src/components/App.js",[],"/home/ivan/mesto-react/src/components/Header.js",[],"/home/ivan/mesto-react/src/components/Main.js",[],"/home/ivan/mesto-react/src/components/Footer.js",[],"/home/ivan/mesto-react/src/components/PopupWithForm.js",[],"/home/ivan/mesto-react/src/utils/Api.js",[],"/home/ivan/mesto-react/src/components/Card.js",[],"/home/ivan/mesto-react/src/components/ImagePopup.js",[],"/home/ivan/mesto-react/src/contexts/CurrentUserContext.js",[],"/home/ivan/mesto-react/src/components/EditProfilePopup.js",[],"/home/ivan/mesto-react/src/components/EditAvatarPopup.js",[],"/home/ivan/mesto-react/src/components/AddPopup.js",[],"/home/ivan/mesto-react/src/components/DeletePopup.js",[],"/home/ivan/react-mesto-auth/src/index.js",[],[],"/home/ivan/react-mesto-auth/src/reportWebVitals.js",[],[],"/home/ivan/react-mesto-auth/src/components/App.js",["142","143","144","145","146","147","148"],[],"import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport ImagePopup from './ImagePopup';\n////////////////\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPopup from \"./AddPopup\";\nimport DeletePopup from \"./DeletePopup\";\nimport { Route, Routes, useNavigate, useLocation } from 'react-router-dom';\nimport {api}  from '../utils/Api'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n  ////////////////////////////////////////////\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  const [isAddCardPopupOpen, setisAddCardPopupOpen] = React.useState(false);\n  function handleAddCardClick() {\n    setisAddCardPopupOpen(true);\n  }\n  const [isAvatarProfilePopupOpen, setisAvatarProfilePopupOpen] = React.useState(false);\n  function handleAvatarProfileClick() {\n    setisAvatarProfilePopupOpen(true);\n  }\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpenen(true);\n  }\n  const [isImagePopupOpenen, setIsImagePopupOpenen] = React.useState(false);\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setisAddCardPopupOpen(false);\n    setisAvatarProfilePopupOpen(false);\n    setSelectedCard(null);\n    setIsDeletePopupOpenen(false);\n    setIsImagePopupOpenen(false);\n  }\n  ////////////////////////////////////////////\n  const [currentUser, setCurrentUser] = React.useState({});\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  \n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  ///////////////////////////////////////////\n  function handleCardLike(card){\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    if (isLiked) {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n\n          return [];\n        });\n    } else {\n      api\n        .addLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n\n          return [];\n        });\n    }\n    \n  } \n////////////////\n  function handleEditUser(data) {\n  \n    api\n      .editProfile(data)\n      .then((data) => {\n        setCurrentUser(data);\n        //console.log(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .addAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleAddPlace(data) {\n    api\n      .addPlace(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  const [isDeletePopupOpenen, setIsDeletePopupOpenen] =React.useState(false);\n  function handleCardDeleteClick(card) {\n    setIsDeletePopupOpenen(true);\n    ////\n\n    ////\n    setSelectedCard(card);\n  }\n  function handleDeletePlace(card) {\n    api\n      .deletePost(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n      <Routes>\n      <Route\n            path=\"/\"\n            element={\n              <RequireAuth loggedIn={loggedIn}>\n                <div>\n                <Header />\n      <Main \n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddCardClick}\n        onEditAvatar={handleAvatarProfileClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDeleteClick={handleCardDeleteClick}\n        cards={cards}\n      />\n      <Footer />\n      <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onEditUser={handleEditUser}\n      />\n      <AddPopup\n          isOpen={isAddCardPopupOpen}\n          onClose={closeAllPopups}\n          onAddPost={handleAddPlace}\n        />\n      <EditAvatarPopup\n          isOpen={isAvatarProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n      />\n      <ImagePopup \n        isOpen={isImagePopupOpenen}\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n      <DeletePopup\n          isOpen={isDeletePopupOpenen}\n          onClose={closeAllPopups}\n          card={selectedCard}\n          onDeletePlace={handleDeletePlace}\n        />\n                </div>\n                </RequireAuth>\n            }\n      />\n        <Route path=\"/sign-up\" element={<Register/>} />\n        <Route path=\"/sign-in\" element={<Login onLogin={handleLogin}/>} />\n      </Routes>\n      \n        \n      \n      {/* </Routes> */}\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","/home/ivan/react-mesto-auth/src/contexts/CurrentUserContext.js",[],[],"/home/ivan/react-mesto-auth/src/components/Header.js",[],[],"/home/ivan/react-mesto-auth/src/components/ImagePopup.js",[],[],"/home/ivan/react-mesto-auth/src/components/Footer.js",[],[],"/home/ivan/react-mesto-auth/src/components/Main.js",[],[],"/home/ivan/react-mesto-auth/src/components/EditAvatarPopup.js",[],[],"/home/ivan/react-mesto-auth/src/components/DeletePopup.js",[],[],"/home/ivan/react-mesto-auth/src/components/EditProfilePopup.js",[],[],"/home/ivan/react-mesto-auth/src/components/AddPopup.js",[],[],"/home/ivan/react-mesto-auth/src/utils/Api.js",[],[],"/home/ivan/react-mesto-auth/src/components/Card.js",[],[],"/home/ivan/react-mesto-auth/src/components/PopupWithForm.js",[],[],{"ruleId":"149","replacedBy":"150"},{"ruleId":"151","replacedBy":"152"},{"ruleId":"153","severity":1,"message":"154","line":12,"column":25,"nodeType":"155","messageId":"156","endLine":12,"endColumn":36},{"ruleId":"153","severity":1,"message":"157","line":12,"column":38,"nodeType":"155","messageId":"156","endLine":12,"endColumn":49},{"ruleId":"158","severity":2,"message":"159","line":148,"column":16,"nodeType":"160","messageId":"161","endLine":148,"endColumn":27},{"ruleId":"162","severity":2,"message":"163","line":148,"column":38,"nodeType":"155","messageId":"164","endLine":148,"endColumn":46},{"ruleId":"158","severity":2,"message":"165","line":191,"column":42,"nodeType":"160","messageId":"161","endLine":191,"endColumn":50},{"ruleId":"158","severity":2,"message":"166","line":192,"column":42,"nodeType":"160","messageId":"161","endLine":192,"endColumn":47},{"ruleId":"162","severity":2,"message":"167","line":192,"column":57,"nodeType":"155","messageId":"164","endLine":192,"endColumn":68},"no-native-reassign",["168"],"no-negated-in-lhs",["169"],"no-unused-vars","'useNavigate' is defined but never used.","Identifier","unusedVar","'useLocation' is defined but never used.","react/jsx-no-undef","'RequireAuth' is not defined.","JSXIdentifier","undefined","no-undef","'loggedIn' is not defined.","undef","'Register' is not defined.","'Login' is not defined.","'handleLogin' is not defined.","no-global-assign","no-unsafe-negation"]