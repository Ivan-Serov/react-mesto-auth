{"map":"{\"version\":3,\"sources\":[\"/home/ivan/react-mesto-auth/src/components/Header.js\",\"/home/ivan/react-mesto-auth/src/contexts/CurrentUserContext.js\",\"/home/ivan/react-mesto-auth/src/utils/Api.js\",\"/home/ivan/react-mesto-auth/src/components/App.js\",\"/home/ivan/react-mesto-auth/src/reportWebVitals.js\",\"/home/ivan/react-mesto-auth/src/index.js\"],\"names\":[\"Header\",\"CurrentUserContext\",\"React\",\"createContext\",\"api\",\"Api\",\"url\",\"token\",\"Object\",\"classCallCheck\",\"this\",\"checkResult\",\"res\",\"ok\",\"json\",\"Promise\",\"reject\",\"concat\",\"status\",\"_url\",\"_authorizationToken\",\"_headers\",\"authorization\",\"Content-Type\",\"fetch\",\"method\",\"headers\",\"then\",\"data\",\"body\",\"JSON\",\"stringify\",\"cardId\",\"avatar\",\"App\",\"_React$useState\",\"useState\",\"_React$useState2\",\"slicedToArray\",\"_React$useState3\",\"_React$useState4\",\"_React$useState5\",\"_React$useState6\",\"_React$useState7\",\"_React$useState8\",\"_React$useState9\",\"_React$useState10\",\"_React$useState11\",\"_React$useState12\",\"currentUser\",\"setCurrentUser\",\"useEffect\",\"getUserInfo\",\"catch\",\"err\",\"console\",\"log\",\"_React$useState13\",\"_React$useState14\",\"setCards\",\"getInitialCards\",\"_React$useState15\",\"_React$useState16\",\"react_default\",\"a\",\"createElement\",\"Provider\",\"value\",\"className\",\"reportWebVitals\",\"onPerfEntry\",\"Function\",\"__webpack_require__\",\"e\",\"bind\",\"_ref\",\"getCLS\",\"getFID\",\"getFCP\",\"getLCP\",\"getTTFB\",\"ReactDOM\",\"render\",\"StrictMode\",\"react_router_dom\",\"components_App\",\"document\",\"getElementById\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react';\\n\\nfunction Header() {\\n  return (\\n    <header className=\\\"header\\\">\\n        <div className=\\\"header__logo\\\"></div>\\n    </header>\\n  );\\n}\\n  \\nexport default Header;\",\"import React from \\\"react\\\";\\n\\nexport const CurrentUserContext = React.createContext();\",\"class Api {\\n  constructor(url, token) {\\n    this._url = url;\\n    this._authorizationToken = token;\\n    this._headers ={authorization:this._authorizationToken, 'Content-Type': 'application/json'};\\n  }\\n  getUserInfo() {\\n    return fetch(this._url +'/users/me', {\\n      method: 'GET',\\n      headers: {\\n        authorization: this._authorizationToken\\n      }})\\n    .then(this.checkResult);\\n  }\\n  getInitialCards() {\\n    return fetch(this._url +'/cards', {\\n      headers: {\\n        authorization: this._authorizationToken\\n      }})\\n    .then(this.checkResult);\\n  }\\n  editProfile(data){\\n    return fetch(this._url +'/users/me', {\\n        method: 'PATCH',\\n        headers: this._headers,\\n        body: JSON.stringify(data)\\n      })\\n    .then(this.checkResult);\\n  }\\n  addPlace(data){\\n    return fetch(this._url +'/cards', {\\n      method: 'POST',\\n      headers: this._headers,\\n      body: JSON.stringify(data)\\n    })\\n    .then(this.checkResult);\\n  }\\n  deletePost(cardId) {\\n    return fetch(this._url + '/cards/' + cardId, {\\n      method: 'DELETE',\\n      headers: this._headers,\\n    })\\n    .then(this.checkResult);\\n  }\\n  addLike(cardId){\\n    return fetch(this._url + '/cards/likes/' + cardId, {\\n      method: 'PUT',\\n      headers: this._headers,\\n    })\\n    .then(this.checkResult);\\n  }\\n  deleteLike(cardId){\\n    return fetch(this._url + '/cards/likes/' + cardId, {\\n      method: 'DELETE',\\n      headers: this._headers,\\n    })\\n    .then(this.checkResult);\\n  }\\n  addAvatar(avatar){\\n    return fetch(this._url +'/users/me/avatar', {\\n      method: 'PATCH',\\n      headers: this._headers,\\n      body: JSON.stringify(avatar)\\n    })\\n    .then(this.checkResult);\\n  }\\n  checkResult = res => {\\n    if (res.ok) {\\n      return res.json();\\n    } else {\\n      return Promise.reject(`Ошибка: ${res.status}`);\\n    }\\n  }\\n}\\nexport const api = new Api('https://nomoreparties.co/v1/cohort-28', 'd0022a9e-a6be-4d9a-ab6e-3949875c7c34');\",\"import React from 'react';\\nimport Header from './Header';\\nimport Main from './Main';\\nimport Footer from './Footer';\\n\\nimport ImagePopup from './ImagePopup';\\n////////////////\\nimport EditProfilePopup from \\\"./EditProfilePopup\\\";\\nimport EditAvatarPopup from \\\"./EditAvatarPopup\\\";\\nimport AddPopup from \\\"./AddPopup\\\";\\nimport DeletePopup from \\\"./DeletePopup\\\";\\nimport { Route, Routes, useNavigate, useLocation } from 'react-router-dom';\\nimport {api}  from '../utils/Api'\\nimport { CurrentUserContext } from \\\"../contexts/CurrentUserContext.js\\\";\\n\\nfunction App() {\\n  ////////////////////////////////////////////\\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\\n  function handleEditProfileClick() {\\n    setIsEditProfilePopupOpen(true);\\n  }\\n  const [isAddCardPopupOpen, setisAddCardPopupOpen] = React.useState(false);\\n  function handleAddCardClick() {\\n    setisAddCardPopupOpen(true);\\n  }\\n  const [isAvatarProfilePopupOpen, setisAvatarProfilePopupOpen] = React.useState(false);\\n  function handleAvatarProfileClick() {\\n    setisAvatarProfilePopupOpen(true);\\n  }\\n  const [selectedCard, setSelectedCard] = React.useState(null);\\n  function handleCardClick(card) {\\n    setSelectedCard(card);\\n    setIsImagePopupOpenen(true);\\n  }\\n  const [isImagePopupOpenen, setIsImagePopupOpenen] = React.useState(false);\\n  function closeAllPopups() {\\n    setIsEditProfilePopupOpen(false);\\n    setisAddCardPopupOpen(false);\\n    setisAvatarProfilePopupOpen(false);\\n    setSelectedCard(null);\\n    setIsDeletePopupOpenen(false);\\n    setIsImagePopupOpenen(false);\\n  }\\n  ////////////////////////////////////////////\\n  const [currentUser, setCurrentUser] = React.useState({});\\n  React.useEffect(() => {\\n    api\\n      .getUserInfo()\\n      .then((data) => {\\n        setCurrentUser(data);\\n      })\\n      .catch((err) => console.log(err));\\n  }, []);\\n  \\n  const [cards, setCards] = React.useState([]);\\n  React.useEffect(() => {\\n    api\\n      .getInitialCards()\\n      .then((data) => {\\n        setCards(data);\\n      })\\n      .catch((err) => console.log(err));\\n  }, []);\\n  ///////////////////////////////////////////\\n  function handleCardLike(card){\\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\\n    \\n    if (isLiked) {\\n      api\\n        .deleteLike(card._id)\\n        .then((newCard) => {\\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\\n        })\\n        .catch((err) => {\\n          console.log(err);\\n\\n          return [];\\n        });\\n    } else {\\n      api\\n        .addLike(card._id)\\n        .then((newCard) => {\\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\\n        })\\n        .catch((err) => {\\n          console.log(err);\\n\\n          return [];\\n        });\\n    }\\n    \\n  } \\n////////////////\\n  function handleEditUser(data) {\\n  \\n    api\\n      .editProfile(data)\\n      .then((data) => {\\n        setCurrentUser(data);\\n        //console.log(data);\\n        closeAllPopups();\\n      })\\n      .catch((err) => console.log(err));\\n  }\\n\\n  function handleUpdateAvatar(data) {\\n    api\\n      .addAvatar(data)\\n      .then((data) => {\\n        setCurrentUser(data);\\n        closeAllPopups();\\n      })\\n      .catch((err) => console.log(err));\\n  }\\n  function handleAddPlace(data) {\\n    api\\n      .addPlace(data)\\n      .then((newCard) => {\\n        setCards([newCard, ...cards]);\\n        closeAllPopups();\\n      })\\n      .catch((err) => console.log(err));\\n  }\\n  const [isDeletePopupOpenen, setIsDeletePopupOpenen] =React.useState(false);\\n  function handleCardDeleteClick(card) {\\n    setIsDeletePopupOpenen(true);\\n    ////\\n\\n    ////\\n    setSelectedCard(card);\\n  }\\n  function handleDeletePlace(card) {\\n    api\\n      .deletePost(card._id)\\n      .then(() => {\\n        setCards((state) => state.filter((c) => c._id !== card._id));\\n        closeAllPopups();\\n      })\\n      .catch((err) => console.log(err));\\n  }\\n  return (\\n    <CurrentUserContext.Provider value={currentUser}>\\n      <div className=\\\"page\\\">\\n      {/* <Routes>\\n      <Route\\n            path=\\\"/\\\"\\n            element={\\n              <RequireAuth loggedIn={loggedIn}>\\n                <div>\\n                <Header />\\n      <Main \\n        onEditProfile={handleEditProfileClick}\\n        onAddPlace={handleAddCardClick}\\n        onEditAvatar={handleAvatarProfileClick}\\n        onCardClick={handleCardClick}\\n        onCardLike={handleCardLike}\\n        onCardDeleteClick={handleCardDeleteClick}\\n        cards={cards}\\n      />\\n      <Footer />\\n      <EditProfilePopup\\n          isOpen={isEditProfilePopupOpen}\\n          onClose={closeAllPopups}\\n          onEditUser={handleEditUser}\\n      />\\n      <AddPopup\\n          isOpen={isAddCardPopupOpen}\\n          onClose={closeAllPopups}\\n          onAddPost={handleAddPlace}\\n        />\\n      <EditAvatarPopup\\n          isOpen={isAvatarProfilePopupOpen}\\n          onClose={closeAllPopups}\\n          onUpdateAvatar={handleUpdateAvatar}\\n      />\\n      <ImagePopup \\n        isOpen={isImagePopupOpenen}\\n        card={selectedCard}\\n        onClose={closeAllPopups}\\n      />\\n      <DeletePopup\\n          isOpen={isDeletePopupOpenen}\\n          onClose={closeAllPopups}\\n          card={selectedCard}\\n          onDeletePlace={handleDeletePlace}\\n        />\\n                </div>\\n                </RequireAuth>\\n            }\\n      />\\n        <Route path=\\\"/sign-up\\\" element={<Register/>} />\\n        <Route path=\\\"/sign-in\\\" element={<Login onLogin={handleLogin}/>} />\\n      </Routes> */}\\n      \\n        \\n      \\n      {/* </Routes> */}\\n      </div>\\n    </CurrentUserContext.Provider>\\n  );\\n}\\n\\nexport default App;\\n\",\"const reportWebVitals = onPerfEntry => {\\n  if (onPerfEntry && onPerfEntry instanceof Function) {\\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\\n      getCLS(onPerfEntry);\\n      getFID(onPerfEntry);\\n      getFCP(onPerfEntry);\\n      getLCP(onPerfEntry);\\n      getTTFB(onPerfEntry);\\n    });\\n  }\\n};\\n\\nexport default reportWebVitals;\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './components/App';\\nimport reportWebVitals from './reportWebVitals';\\nimport {\\n  BrowserRouter\\n} from \\\"react-router-dom\\\";\\n\\nReactDOM.render(\\n  <React.StrictMode>\\n     <BrowserRouter> \\n      <App />\\n    </BrowserRouter> \\n  </React.StrictMode>,\\n  document.getElementById('root')\\n);\\n\\n// If you want to start measuring performance in your app, pass a function\\n// to log results (for example: reportWebVitals(console.log))\\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\\nreportWebVitals();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{4:function(e,t,a){},59:function(e,t,a){\"use strict\";a.r(t);var n=a(0),r=a.n(n),s=a(5),i=a.n(s),c=(a(4),a(8),a(1));var h=r.a.createContext();var u=a(6),o=a(7),l=new(function(){function e(t,a){Object(u.a)(this,e),this.checkResult=function(e){return e.ok?e.json():Promise.reject(\"\\u041e\\u0448\\u0438\\u0431\\u043a\\u0430: \".concat(e.status))},this._url=t,this._authorizationToken=a,this._headers={authorization:this._authorizationToken,\"Content-Type\":\"application/json\"}}return Object(o.a)(e,[{key:\"getUserInfo\",value:function(){return fetch(this._url+\"/users/me\",{method:\"GET\",headers:{authorization:this._authorizationToken}}).then(this.checkResult)}},{key:\"getInitialCards\",value:function(){return fetch(this._url+\"/cards\",{headers:{authorization:this._authorizationToken}}).then(this.checkResult)}},{key:\"editProfile\",value:function(e){return fetch(this._url+\"/users/me\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify(e)}).then(this.checkResult)}},{key:\"addPlace\",value:function(e){return fetch(this._url+\"/cards\",{method:\"POST\",headers:this._headers,body:JSON.stringify(e)}).then(this.checkResult)}},{key:\"deletePost\",value:function(e){return fetch(this._url+\"/cards/\"+e,{method:\"DELETE\",headers:this._headers}).then(this.checkResult)}},{key:\"addLike\",value:function(e){return fetch(this._url+\"/cards/likes/\"+e,{method:\"PUT\",headers:this._headers}).then(this.checkResult)}},{key:\"deleteLike\",value:function(e){return fetch(this._url+\"/cards/likes/\"+e,{method:\"DELETE\",headers:this._headers}).then(this.checkResult)}},{key:\"addAvatar\",value:function(e){return fetch(this._url+\"/users/me/avatar\",{method:\"PATCH\",headers:this._headers,body:JSON.stringify(e)}).then(this.checkResult)}}]),e}())(\"https://nomoreparties.co/v1/cohort-28\",\"d0022a9e-a6be-4d9a-ab6e-3949875c7c34\");var d=function(){var e=r.a.useState(!1),t=Object(c.a)(e,2);t[0],t[1];var a=r.a.useState(!1),n=Object(c.a)(a,2);n[0],n[1];var s=r.a.useState(!1),i=Object(c.a)(s,2);i[0],i[1];var u=r.a.useState(null),o=Object(c.a)(u,2);o[0],o[1];var d=r.a.useState(!1),f=Object(c.a)(d,2);f[0],f[1];var k=r.a.useState({}),v=Object(c.a)(k,2),m=v[0],_=v[1];r.a.useEffect(function(){l.getUserInfo().then(function(e){_(e)}).catch(function(e){return console.log(e)})},[]);var b=r.a.useState([]),g=Object(c.a)(b,2),y=(g[0],g[1]);r.a.useEffect(function(){l.getInitialCards().then(function(e){y(e)}).catch(function(e){return console.log(e)})},[]);var E=r.a.useState(!1),O=Object(c.a)(E,2);return O[0],O[1],r.a.createElement(h.Provider,{value:m},r.a.createElement(\"div\",{className:\"page\"}))},f=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,60)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),s(e),i(e)})},k=a(2);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k.a,null,r.a.createElement(d,null))),document.getElementById(\"root\")),f()},9:function(e,t,a){e.exports=a(59)}},[[9,3,2]]]);","extractedComments":[]}