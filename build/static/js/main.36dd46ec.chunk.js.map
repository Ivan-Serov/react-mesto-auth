{"version":3,"sources":["images/success-icon.svg","images/fail-icon.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPopup.js","components/DeletePopup.js","utils/Api.js","components/auth.js","components/InfoTooltip.js","components/Register.js","components/Login.js","components/ProtectedRoute.jsx","components/App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","react_default","a","createElement","className","CurrentUserContext","React","createContext","Card","_ref","card","onCardClick","onCardLike","onCardDeleteClick","owner","link","name","likes","currentUser","useContext","isOwn","_id","cardDeleteButtonClassName","concat","isLiked","some","i","cardLikeButtonClassName","src","alt","onClick","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","id","about","map","post","key","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","children","buttonText","onSubmit","popupClass","formClass","method","EditProfilePopup","onEditUser","_React$useState","useState","_React$useState2","Object","slicedToArray","setName","_React$useState3","_React$useState4","setAbout","useEffect","e","preventDefault","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPopup","onAddPost","setMesto","setLink","DeletePostPopup","onDeletePlace","api","Api","url","token","classCallCheck","this","checkResult","res","ok","json","Promise","reject","status","_url","_authorizationToken","_headers","authorization","Content-Type","fetch","headers","then","data","body","JSON","stringify","cardId","BASE_URL","register","email","password","Accept","response","catch","err","console","log","authorize","checkToken","Authorization","InfoTooltip","props","errorLogin","onClosePopup","success_icon","fail_icon","Register","_useState","_useState2","values","setValues","_useState3","isOpenLoginPopup","message","_useState4","infoPopup","setInfoPopup","navigate","useNavigate","handleChange","_e$target","prevState","objectSpread","defineProperty","handleSubmit","auth","openPopup","components_Header","nav","navStatus","emailUser","react_router_dom","to","Login","onLogin","localStorage","setItem","username","RequireAuth","loggedIn","react_router","App","setLoggedIn","userEmail","setUserEmail","location","useLocation","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddCardPopupOpen","setisAddCardPopupOpen","_React$useState5","_React$useState6","isAvatarProfilePopupOpen","setisAvatarProfilePopupOpen","_React$useState7","_React$useState8","selectedCard","setSelectedCard","_React$useState9","_React$useState10","isImagePopupOpenen","setIsImagePopupOpenen","closeAllPopups","setIsDeletePopupOpenen","_React$useState11","_React$useState12","setCurrentUser","getUserInfo","_React$useState13","_React$useState14","setCards","getInitialCards","_React$useState15","_React$useState16","isDeletePopupOpenen","handleTokenCheck","pathname","all","path","getItem","jwt","Provider","element","ProtectedRoute","onLogout","evt","removeItem","components_Main","deleteLike","newCard","state","c","addLike","components_Footer","editProfile","addPlace","toConsumableArray","addAvatar","deletePost","filter","reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.36dd46ec.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/success-icon.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/fail-icon.4072126c.svg\";","import React from 'react';\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n        <div className=\"header__logo\"></div>\n    </header>\n  );\n}\n  \nexport default Header;","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nexport default function Card({card, onCardClick, onCardLike, onCardDeleteClick}) {\n    const {owner, link, name, likes } = card;\n    const currentUser = React.useContext(CurrentUserContext);\n  /* const {\n    card: { link, name, likes }\n  } = props; */\n  const isOwn = owner._id === currentUser._id;\n  const cardDeleteButtonClassName = `places__delete ${isOwn && 'places__delete_not-visible'}`;\n\n  const isLiked = likes.some((i) => i._id === currentUser._id);\n  const cardLikeButtonClassName = `places__like ${\n    isLiked && 'places__like_active'}`;\n\n  function handleClick() {\n    onCardClick(card);\n  }\n\n  function handleLikeClick() {\n    onCardLike(card);\n  }\n\n  function handleDeleteClick() {\n    onCardDeleteClick(card);\n  }\n  return(\n    <div className=\"places__card\">\n        <img \n        src={link}\n        alt={name} \n        className=\"places__image\" \n        onClick={handleClick}\n        />\n        <h2 className=\"places__title\">{name} </h2>\n        <div className=\"places__like-container\">\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\n            <p className=\"places__like-number\">{likes.length}</p>\n        </div>\n        {/* <!-- <button type=\"button\" className=\"places__like\"></button> --> */}\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\n    </div>\n  );\n}","import React from 'react';\n//import {api}  from '../utils/Api'\nimport Card from './Card'\nimport '../index.css';\n//////\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n//////\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, onCardClick, onCardLike, onCardDeleteClick, cards}) {\n  //////////////////////////////////////////\n  const currentUser = React.useContext(CurrentUserContext);\n  \n\n//////////////////////////////////////////\n  return (\n    <main>\n        <section className=\"profile\">\n            <div className=\"profile__avatar\"  onClick={onEditAvatar}>\n              <img src={currentUser.avatar} alt=\"avatar\" className=\"profile__foto-avatar\" />\n            </div>\n            <div className=\"profile__text-group\">\n                <div className=\"profile__title-box\">\n                    <h1 className=\"profile__title\">{currentUser.name }</h1>\n                    <button type=\"button\" className=\"profile__edit\" id=\"profE\" onClick={onEditProfile}></button>\n                </div>\n                <p className=\"profile__subtitle\">{currentUser.about }</p>\n            </div>\n            <button type=\"button\" className=\"profile__add\" onClick={onAddPlace}></button>\n        </section>\n        <section className=\"places\">\n          {cards.map((post) => (\n          <Card card={post}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDeleteClick={onCardDeleteClick}\n            key={post._id} />\n        ))}\n        </section>\n           \n    </main>\n\n  );\n}\n  \nexport default Main;","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n        <p className=\"footer__author\">&copy; 2021. Иван Серов</p>\n    </footer>\n  );\n}\n  \nexport default Footer;","import React from \"react\";\n\nexport default function ImagePopup({ isOpen, card, onClose }) {\n    \n    return (\n        <div className={`popup popup_img ${isOpen && \"popup_opened\"}`} id=\"popup-image\">\n            <div className=\"popup__container\">\n                <button onClick={onClose} type=\"button\" className=\"popup__close\" id=\"popup-close-image\"></button>\n                <img \n                    src={card ? card.link : \"#\"}\n                    alt={card ? card.name : \"\"}\n                    className=\"popup__image\" />\n                <h2  className=\"popup__title popup__title_img\">\n                    {card ? card.name : \"\"}\n                </h2>\n            </div>\n    \n        </div>\n    );\n\n}","import React from \"react\";\n\nexport default function PopupWithForm({ name, title, children, isOpen, onClose, buttonText, onSubmit }) {\n\n  const popupClass = `popup ${isOpen && \"popup_opened\"}`;\n  const formClass = `popup__form popup__form_${name}`;\n  return (\n    <div className={popupClass} >\n      <div className=\"popup__container\">\n        <button type=\"button\" className=\"popup__close\" onClick={onClose}></button>\n        <form className={formClass} method=\"POST\" name={name} onSubmit={onSubmit}>\n            <h2 className=\"popup__title\">{title}</h2>\n            {children}\n            \n            <button type=\"submit\" className=\"popup__save\">{buttonText}</button>\n        </form>\n        \n      </div>\n    </div>\n  );\n}","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditProfilePopup({ isOpen, onClose, onEditUser }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState('');\n  const [about, setAbout] = React.useState('');\n\n  React.useEffect(() => {\n    setName(currentUser.name || '');\n    setAbout(currentUser.about || '');\n    \n  }, [currentUser, isOpen]);\n\n  function handleChangeInputName(e) {\n    setName(e.target.value);\n    \n  }\n\n  function handleChangeInputAbout(e) {\n    setAbout(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    \n    onEditUser({\n      name,\n      about,\n    });\n  }\n  \n  return (\n    <PopupWithForm \n    isOpen={isOpen}\n    onClose={onClose}\n    onSubmit={handleSubmit}\n    title=\"Редактировать профиль\"\n    buttonText=\"Сохранить\"\n  >\n        <input name=\"name\" \n            id=\"user\" \n            type=\"text\" \n            placeholder=\"Имя\" \n            className=\"popup__input popup__input_type_user\" \n            minLength=\"2\" \n            maxLength=\"40\" \n            required \n            value={name}\n            onChange={handleChangeInputName}\n            />\n        <span id=\"user-error\" className=\"error\"></span>\n        <input \n            name=\"about\" \n            id=\"user-information\" \n            type=\"text\" \n            placeholder=\"О себе\" \n            className=\"popup__input popup__input_type_user-information\" \n            minLength=\"2\" \n            maxLength=\"200\" \n            required \n            value={about}\n            onChange={handleChangeInputAbout}/>\n        <span id=\"user-information-error\" className=\"error\"></span>\n  </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n\n  }\n\n  return (\n    <PopupWithForm \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Обновить аватар\"\n        name= \"avatar\"\n        buttonText=\"Сохранить\"\n  >\n        <input \n            name=\"avatar\" \n            id=\"link-avatar\" \n            type=\"url\" \n            placeholder=\"Ссылка на картинку\" \n            className=\"popup__input popup__input_type_image-link\" \n            required \n            ref={avatarRef}\n            />\n        <span id=\"link-avatar-error\" className=\"error\"></span>\n\n  </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function AddPopup({ isOpen, onClose, onAddPost }) {\n  const [name, setMesto] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handleChangeInputMesto(e) {\n    setMesto(e.target.value);\n  }\n\n  function handleChangeInputLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onAddPost({\n      name,\n      link,\n    });\n\n    setMesto(\"\");\n    setLink(\"\");\n  }\n\n  return (\n    <PopupWithForm \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Новое место\"\n        buttonText=\"Создать\"\n    >\n        <input name=\"name\" \n            id=\"title-location\" \n            type=\"text\" \n            placeholder=\"Название\" \n            className=\"popup__input popup__input_type_title\" \n            minLength=\"2\" maxLength=\"30\" \n            required \n            value={name}\n            onChange={handleChangeInputMesto}/>\n        <span id=\"title-location-error\" className=\"error\"></span>\n        <input name=\"link\" \n            id=\"link-image\" \n            type=\"url\" \n            placeholder=\"Ссылка на картинку\" \n            className=\"popup__input popup__input_type_image-link\" \n            required \n            value={link}\n            onChange={handleChangeInputLink}/>\n        <span id=\"link-image-error\" className=\"error\"></span>\n    </PopupWithForm>\n  );\n}","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nexport default function DeletePostPopup({\n  isOpen,\n  onClose,\n  card,\n  onDeletePlace,\n}) {\n  function handleSubmit(e) {\n    e.preventDefault();\n    onDeletePlace(card);\n  }\n\n  return (\n    <PopupWithForm \n        \n        isOpen={isOpen}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        title=\"Вы уверены?\"\n        name= \"delete\"\n        buttonText=\"Да\"\n    />\n  );\n}","class Api {\n  constructor(url, token) {\n    this._url = url;\n    this._authorizationToken = token;\n    this._headers ={authorization:this._authorizationToken, 'Content-Type': 'application/json'};\n  }\n  getUserInfo() {\n    return fetch(this._url +'/users/me', {\n      method: 'GET',\n      headers: {\n        authorization: this._authorizationToken\n      }})\n    .then(this.checkResult);\n  }\n  getInitialCards() {\n    return fetch(this._url +'/cards', {\n      headers: {\n        authorization: this._authorizationToken\n      }})\n    .then(this.checkResult);\n  }\n  editProfile(data){\n    return fetch(this._url +'/users/me', {\n        method: 'PATCH',\n        headers: this._headers,\n        body: JSON.stringify(data)\n      })\n    .then(this.checkResult);\n  }\n  addPlace(data){\n    return fetch(this._url +'/cards', {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then(this.checkResult);\n  }\n  deletePost(cardId) {\n    return fetch(this._url + '/cards/' + cardId, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  addLike(cardId){\n    return fetch(this._url + '/cards/likes/' + cardId, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  deleteLike(cardId){\n    return fetch(this._url + '/cards/likes/' + cardId, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this.checkResult);\n  }\n  addAvatar(avatar){\n    return fetch(this._url +'/users/me/avatar', {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(avatar)\n    })\n    .then(this.checkResult);\n  }\n  checkResult = res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n}\nexport const api = new Api('https://nomoreparties.co/v1/cohort-28', 'd0022a9e-a6be-4d9a-ab6e-3949875c7c34');","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then((response) => {\n    return response.json();\n  })\n  .then((res) => {\n    return res;\n  })\n  .catch((err) => console.log(err));\n};\n\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({email, password})\n    })\n    .then(res => res.json())\n    .then(data => data)\n    .catch(err => console.log(err))\n  };\n\n  export const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(res => res.json())\n    .then(data => data)\n}","import React from 'react';\nimport success_icon from '../images/success-icon.svg';\nimport fail_icon from '../images/fail-icon.svg';\n\n\nexport default function InfoTooltip(props) {\n\n    if (props.errorLogin) { \n      return (\n        <section className=\"popup popup_login popup_is-opened\" >\n        <div className=\"popup__content popup__content_login\" >\n          <button className=\"popup__close popup__close_login\"  type=\"button\" onClick={props.onClosePopup}></button>\n          <img src={success_icon}  alt='Успех' className=\"popup__icon-login\" /> \n          <h3 className=\"popup__title popup__title_login\">Вы успешно зарегистрировались!</h3> \n        </div>\n        </section>\n      );\n     } else if (!props.errorLogin) {\n        return (\n          <section className=\"popup popup_login popup_is-opened\" >\n          <div className=\"popup__content popup__content_login\" >\n            <button className=\"popup__close popup__close_login\"  type=\"button\" onClick={props.onClosePopup}></button>\n            <img src={fail_icon} alt='Ошибка' className=\"popup__icon-login\" /> \n            <h3 className=\"popup__title popup__title_login\">Что-то пошло не так! Попробуйте еще раз</h3> \n          </div>\n          </section>\n        );\n    } else {\n        // для плавного открытия попапа\n        return (\n          <section className=\"popup popup_login\"></section>\n        );\n    }\n}\n","import React, { useState } from 'react';\nimport * as auth from '../components/auth';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Header from '../components/Header';\nimport InfoTooltip from '../components/InfoTooltip';\n\n\nexport default function Register() {\n  const [values, setValues] = useState({\n    email: '',\n    password: ''\n  });\n\n  const [infoPopup, setInfoPopup] = useState({\n    isOpenLoginPopup: false,\n    errorLogin: false,\n    message: ''\n  });\n\n  const navigate = useNavigate();\n\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    auth\n        .register(\n          values.email,\n          values.password\n        )\n        .then((res) => {\n          if(res.data){\n            setInfoPopup({\n              message: 'Успешно зарегестрировались',\n              errorLogin: true,\n              isOpenLoginPopup: false\n            });\n            openPopup();\n          } else {\n            setInfoPopup({\n              message: 'Что-то пошло не так!',\n              errorLogin: false,\n              isOpenLoginPopup: false\n            });\n            openPopup();\n          }\n        });\n  };\n\n  const openPopup = () => {\n    setInfoPopup((prevState) => ({\n      ...prevState,\n      isOpenLoginPopup: true,\n    }));\n  }\n\n  const closePopup = () => {\n    setInfoPopup((prevState) => ({\n      ...prevState,\n      isOpenLoginPopup: false,\n    }));\n    if (infoPopup.errorLogin) navigate(\"/sign-in\");\n  };\n\n  return (\n    <div className=\"register\">\n        <Header nav={'/sign-in'} navStatus={'Войти'} emailUser={''}/>\n        <h1 className=\"register__welcome\">Регистрация</h1>\n        <form onSubmit={handleSubmit} className=\"register__form\">\n          <input id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\" className=\"register__input\"\n                 value={values.email} onChange={handleChange} />\n          <input id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\" className=\"register__input\"\n                 value={values.password} onChange={handleChange} />\n            <div className=\"register__button-container\">\n              <button type=\"submit\" className=\"register__link\" onSubmit={handleSubmit}>Зарегистрироваться</button>\n            </div>\n        </form>\n        <div className=\"register__signin\">\n          <p>Уже зарегестрировались?</p>\n          <Link to=\"/sign-in\" className=\"register__login-link\">Войти</Link>\n        </div>\n        {(infoPopup.isOpenLoginPopup) && <InfoTooltip  errorLogin={infoPopup.errorLogin} onClosePopup={closePopup}/> }\n      </div>\n  );\n}","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport Header from '../components/Header';\nimport * as auth from '../components/auth';\n\n\nexport default function Login({ onLogin }) {\n  const [values, setValues] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (!values.email || !values.password) {\n      return;\n    }\n    auth\n      .authorize(values.email, values.password)\n      .then((res) => {\n        if (res.token) {\n          setValues({\n            email: \"\",\n            password: \"\",\n          })\n          localStorage.setItem('jwt', res.token);\n          onLogin(values.email);  // обновляем стейт внутри App.js\n          navigate(\"/\"); // и переадресуем пользователя! \n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"login\">\n        <Header nav={'/sign-up'} navStatus={'Регистрация'} emailUser={''}/>\n        <p className=\"login__welcome\">\n          Вход\n        </p>\n        <form onSubmit={handleSubmit} className=\"login__form\">\n          <input id=\"email\" name=\"email\" type=\"email\" placeholder=\"Email\" className=\"login__input\"\n                 value={values.username} onChange={handleChange} />\n          <input required id=\"password\" name=\"password\" type=\"password\" placeholder=\"Пароль\" className=\"login__input\"\n                 value={values.password} onChange={handleChange} />\n          <div className=\"login__button-container\">\n            <button type=\"submit\" className=\"login__link\" onSubmit={handleSubmit}>Войти</button>\n          </div>\n        </form>\n      </div>\n  )\n}\n","import React from 'react';\nimport {Navigate } from \"react-router-dom\";\n\nconst RequireAuth = ({ loggedIn, children  }) => {\n  return loggedIn ? children : <Navigate to=\"/sign-in\" />\n  }\n\nexport default RequireAuth;","import React, { useEffect, useState } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\n\nimport ImagePopup from './ImagePopup';\n////////////////\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPopup from \"./AddPopup\";\nimport DeletePopup from \"./DeletePopup\";\nimport { Route, Routes, useNavigate, useLocation } from 'react-router-dom';\nimport {api}  from '../utils/Api'\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n///////1/////////\nimport Register from '../components/Register';\nimport Login from '../components/Login';\nimport RequireAuth from './ProtectedRoute';\nimport * as auth from '../components/auth';\n\nfunction App() {\n  ///////////1//////////////////////////////////\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n\n  const navigate = useNavigate();\n  const location = useLocation();\n\n\n\n  ////////////////////////////////////////////\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  const [isAddCardPopupOpen, setisAddCardPopupOpen] = React.useState(false);\n  function handleAddCardClick() {\n    setisAddCardPopupOpen(true);\n  }\n  const [isAvatarProfilePopupOpen, setisAvatarProfilePopupOpen] = React.useState(false);\n  function handleAvatarProfileClick() {\n    setisAvatarProfilePopupOpen(true);\n  }\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpenen(true);\n  }\n  const [isImagePopupOpenen, setIsImagePopupOpenen] = React.useState(false);\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setisAddCardPopupOpen(false);\n    setisAvatarProfilePopupOpen(false);\n    setSelectedCard(null);\n    setIsDeletePopupOpenen(false);\n    setIsImagePopupOpenen(false);\n  }\n  ////////////////////////////////////////////\n  const [currentUser, setCurrentUser] = React.useState({});\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  \n  const [cards, setCards] = React.useState([]);\n  React.useEffect(() => {\n    api\n      .getInitialCards()\n      .then((data) => {\n        setCards(data);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n  ///////////////////////////////////////////\n  function handleCardLike(card){\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    \n    if (isLiked) {\n      api\n        .deleteLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n\n          return [];\n        });\n    } else {\n      api\n        .addLike(card._id)\n        .then((newCard) => {\n          setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n        })\n        .catch((err) => {\n          console.log(err);\n\n          return [];\n        });\n    }\n    \n  } \n////////////////\n  function handleEditUser(data) {\n  \n    api\n      .editProfile(data)\n      .then((data) => {\n        setCurrentUser(data);\n        //console.log(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .addAvatar(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleAddPlace(data) {\n    api\n      .addPlace(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  const [isDeletePopupOpenen, setIsDeletePopupOpenen] =React.useState(false);\n  function handleCardDeleteClick(card) {\n    setIsDeletePopupOpenen(true);\n    ////\n\n    ////\n    setSelectedCard(card);\n  }\n  function handleDeletePlace(card) {\n    api\n      .deletePost(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n/////////////1/////////////\n  useEffect(() => {\n    handleTokenCheck(location.pathname);\n  // запрос в API за пользовательскими данными\n    Promise.all([ \n      api.getUserInfo(),\n      api.getInitialCards()\n    ])\n    .then((res) => {\n      setCurrentUser(res[0]);\n      setCards(res[1])\n    })\n    .catch((err) => {\n      console.log(err); // \"Что-то пошло не так: ...\"\n      return [];\n    })\n  }, []);\n\n  const handleTokenCheck = (path) => {\n    if (localStorage.getItem(\"jwt\")) {\n      const jwt = localStorage.getItem(\"jwt\");\n    // проверяем токен пользователя\n      auth.checkToken(jwt).then((res) => {\n        if (res) {\n        // если есть цель, добавляем её в стейт\n          setLoggedIn(true);\n          setUserEmail(res.data.email);\n          navigate(path);\n        }\n      });\n    }\n  };\n\n  const handleLogin = (email) => {\n    setLoggedIn(true);\n    setUserEmail(email);\n  };\n\n  const handleLogout= (evt) => {\n    evt.preventDefault();\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    setUserEmail('');\n    navigate('/sign-in')\n  }\n//////////////////////////\n\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n      <Routes>\n        <Route\n          path=\"/\"\n          element={\n            <RequireAuth loggedIn={loggedIn}>\n              <div>\n                <Header nav={'/sign-in'} navStatus={'Выйти'} emailUser={userEmail} onLogout={handleLogout} />\n                <Main \n                  onEditProfile={handleEditProfileClick}\n                  onAddPlace={handleAddCardClick}\n                  onEditAvatar={handleAvatarProfileClick}\n                  onCardClick={handleCardClick}\n                  onCardLike={handleCardLike}\n                  onCardDeleteClick={handleCardDeleteClick}\n                  cards={cards}\n                />  \n                <Footer />\n                <EditProfilePopup\n                    isOpen={isEditProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onEditUser={handleEditUser}\n                />\n                <AddPopup\n                    isOpen={isAddCardPopupOpen}\n                    onClose={closeAllPopups}\n                    onAddPost={handleAddPlace}\n                  />\n                <EditAvatarPopup\n                    isOpen={isAvatarProfilePopupOpen}\n                    onClose={closeAllPopups}\n                    onUpdateAvatar={handleUpdateAvatar}\n                />\n                <ImagePopup \n                  isOpen={isImagePopupOpenen}\n                  card={selectedCard}\n                  onClose={closeAllPopups}\n                />\n                <DeletePopup\n                    isOpen={isDeletePopupOpenen}\n                    onClose={closeAllPopups}\n                    card={selectedCard}\n                    onDeletePlace={handleDeletePlace}\n                  />\n              </div>\n            </RequireAuth>\n          }\n        />\n        <Route path=\"/sign-up\" element={<Register/>} />\n        <Route path=\"/sign-in\" element={<Login onLogin={handleLogin}/>} />\n      </Routes>\n      \n        \n      {/*  <div>\n                <Header />\n      <Main \n        onEditProfile={handleEditProfileClick}\n        onAddPlace={handleAddCardClick}\n        onEditAvatar={handleAvatarProfileClick}\n        onCardClick={handleCardClick}\n        onCardLike={handleCardLike}\n        onCardDeleteClick={handleCardDeleteClick}\n        cards={cards}\n      />\n      <Footer />\n      <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onEditUser={handleEditUser}\n      />\n      <AddPopup\n          isOpen={isAddCardPopupOpen}\n          onClose={closeAllPopups}\n          onAddPost={handleAddPlace}\n        />\n      <EditAvatarPopup\n          isOpen={isAvatarProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n      />\n      <ImagePopup \n        isOpen={isImagePopupOpenen}\n        card={selectedCard}\n        onClose={closeAllPopups}\n      />\n      <DeletePopup\n          isOpen={isDeletePopupOpenen}\n          onClose={closeAllPopups}\n          card={selectedCard}\n          onDeletePlace={handleDeletePlace}\n        />\n                </div> */}\n      {/* </Routes> */}\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport {\n  BrowserRouter\n} from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n     <BrowserRouter> \n      <App />\n    </BrowserRouter> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}